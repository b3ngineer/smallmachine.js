<html>
<head>
	<title>Nodes</title>
	<link type="text/css" rel="stylesheet" href="style/example.css" />
</head>
<body>
    <div id="paper"></div>
	<script type="text/javascript" src="../lib/jquery-1.10.2.min.js"></script>
	<script type="text/javascript" src="../lib/raphael-min.js"></script>
	<script type="text/javascript" src="../src/sm.core.js"></script>
	<script type="text/javascript" src="../src/ontologies/sm.properties.js"></script>
	<script type="text/javascript" src="../src/ontologies/sm.channels.js"></script>
	<script type="text/javascript" src="../src/ontologies/sm.nodes.js"></script>
	<script type="text/javascript" src="../src/ontologies/sm.flowchart.js"></script>
	<script type="text/javascript" src="../src/ontologies/sm.raphaeljs.js"></script>
	<script type="text/javascript" src="../src/behaviors/sm.Channel.js"></script>
	<script type="text/javascript">
        (function(sm) {
			try {
				var channels = sm.ontology['sm.channels'];
				var nodes = sm.ontology['sm.nodes'];
				var flowchart = sm.ontology['sm.flowchart'];
				var raphaeljs = sm.ontology['sm.raphaeljs'];
				var wiring = sm([channels, nodes, flowchart, raphaeljs], sm.behavior.Channel);
				wiring.system.set.svg('paper', '100%', '100%');
				wiring.system.set.publish(new sm.type.NamedValue('sm.flowchart', 'root', '1'));
				wiring.system.initialize.json('example.json');
			}
			catch (error) {
				if (typeof console.error === 'function') {
					console.error(error.message + '\n' + error.stack);
				}
				else if (typeof console.log === 'function') {
					console.log(error.message + '\n' + error.stack);
				}
				else {
					alert(error.message);
				}
			}
		}(smallmachine));
	</script>
</body>
</html>
