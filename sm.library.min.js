var sm=function(a){a.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var a=16*Math.random()|0;return("x"==b?a:a&3|8).toString(16)})};var c=function(){this.subscribers=[]};c.prototype.publish=function(b){for(var a=!1,c=0;c<this.subscribers.length;c++)!0===a?this.subscribers[c].subscriber.cancel(b):!1===this.subscribers[c].subscriber.update(b)&&(a=!0);return this};c.prototype.subscribe=function(b){if("function"!=typeof b.update)throw Error('A supplied subscriber object must implement an "update" method');
if("function"!=typeof b.cancel)throw Error('A supplied subscriber object must implement an "cancel" method');this.subscribers.push(b)};c.prototype.add=function(b){if(this[b])throw Error("There is a name conflict on the specified channel: "+b);this[b]=new c;return this[b]};c.prototype.join=function(b){if("undefined"==typeof b)throw Error("A valid channel must be passed to method Channel.join");this.subscribe({update:function(a){b.publish(a)},cancel:function(a){}})};a.channels=new c;return a}(sm||{});sm=function(a){a.channels.add("user").add("click");a.channels.add("system").add("click");a.channels.user.click.join(a.channels.system.click);return a}(sm||{});
